<?xml version="1.0"?>

<PropertyList>

  <enable type="bool">true</enable>

  <!-- global tasks: each of these are run every iteration -->
  <global_tasks>
    <task>
      <name>home_manager</name>
    </task>

    <task>
      <name>lost_link</name>
      <timeout_sec>60</timeout_sec>
      <action_nickname>circle_home</action_nickname>
    </task>

    <task>
      <name>switches</name>
      <switch>
        <input_prop>/sensors/pilot_input/ap_master_switch</input_prop>
        <output_prop>/autopilot/master_switch</output_prop>
        <output_type>boolean</output_type>
      </switch> 
    </task>

    <task>
      <name>throttle_safety</name>
      <safety_on_ground type="bool">false</safety_on_ground>
    </task>

  </global_tasks>

  <!-- sequential tasks: only the front item in the fifo queue is run -->
  <sequential_tasks>
  </sequential_tasks>

  <!-- standby tasks: a list of tasks that are initialized and configured -->
  <!-- and could be moved to the global or sequential task lists at any -->
  <!-- time. -->
  <standby_tasks>
    <task>
      <name>idle</name>
    </task>

    <task>
      <name>recalibrate</name>
    </task>

    <task>
      <name>preflight</name>
      <duration_sec>60.0</duration_sec>
    </task>

    <task>
      <name>circle</name>
      <nickname>circle_home</nickname>
      <coord_path>/task/home</coord_path>
      <radius_m>75</radius_m>
      <altitude_agl_ft>250</altitude_agl_ft>
      <speed_kt>5</speed_kt>
    </task>

    <task>
      <name>circle</name>
      <nickname>circle_target</nickname>
      <!-- <radius-m>100</radius-m> -->
      <!-- <altitude-agl-ft>400</altitude-agl-ft> -->
      <!-- <speed-kt>5</speed-kt> -->
    </task>

    <task>
      <name>route</name>
      <speed_kt>5</speed_kt>
    </task>
    
  </standby_tasks>

</PropertyList>
