<?xml version="1.0"?>

<PropertyList>

  <APM2>
    <device>/dev/ttyO0</device>
    <baud>115200</baud>

    <!-- This is the signal generation rate for driving external servos. -->
    <!-- 50 is the value for standard analog servos -->
    <!-- 400 is the value for good digital servos -->
    <pwm_hz>50</pwm_hz>

    <!-- multiplier to convert from the raw analog voltage to actual -->
    <!-- external voltage. -->
    <!-- 4.127 is the proper value for the AttoPilot 45A (13.6V) sensor -->
    <!-- 15.700 is the proper value for the AttoPilot 50V/90A sensor -->
    <!-- 15.901 is the estimated value for the Avior rev3-->
    <volt_divider_ratio> 4.127</volt_divider_ratio>
    <!-- <volt-divider-ratio> 16.282</volt-divider-ratio> -->

    <!-- used to unambiguously determine per-cell voltage -->
    <battery_cells>4</battery_cells>

    <!-- this is a calibration offset which is subtracted from the analog -->
    <!-- voltage if it's non zero for a zero current draw (not a likely -->
    <!-- scenario in with the APM25 -->
    <external_amp_offset>0.0</external_amp_offset>

    <!-- multiplier to convert from the raw analog voltage to actual -->
    <!-- amps. -->
    <!-- 13.66 is the proper value for the AttoPilot 45A (13.6V) sensor -->
    <!-- 27.32 is the proper value for the AttoPilot 50V/90A sensor -->
    <!-- 14.50 aligns better with my "watts up" numbers -->                    
    <!-- 15.00 calibrates better with what my battery charger -->
    <!-- 38.14 estimate for Avior-rev3 -->
    <external_amp_ratio>15.00</external_amp_ratio>
    <!-- <external-amp-ratio>38.14</external-amp-ratio> -->

    <!-- Pitot tube calibration factor, probably should leave this as 1.0 -->
    <!-- and override it with a per-aircraft value in the top level main.xml -->
    <pitot_calibrate_factor>1.0</pitot_calibrate_factor>
  </APM2>

  <imu_group>
    <imu>
      <source>APM2</source>
      <enable type="bool">true</enable>
      <reverse_imu_mount type="bool">false</reverse_imu_mount>
    </imu>
  </imu_group>

  <gps_group>
    <gps>
      <source>APM2</source>
      <enable type="bool">true</enable>
    </gps>
  </gps_group>

  <airdata_group>
    <airdata>
      <source>APM2</source>
      <enable type="bool">true</enable>
    </airdata>
  </airdata_group>

  <pilot_inputs>
    <pilot_input>
      <source>APM2</source>
      <enable type="bool">true</enable>
      <symmetric n="0" type="bool">true</symmetric>
      <symmetric n="1" type="bool">true</symmetric>
      <symmetric n="2" type="bool">false</symmetric>
      <symmetric n="3" type="bool">true</symmetric>
      <symmetric n="4" type="bool">true</symmetric>
      <symmetric n="5" type="bool">false</symmetric>
      <symmetric n="6" type="bool">true</symmetric>
      <symmetric n="7" type="bool">true</symmetric>
      <channel n="0">aileron</channel>
      <channel n="1">elevator</channel>
      <channel n="2">throttle</channel>
      <channel n="3">rudder</channel>
      <channel n="5">flaps</channel>
      <channel n="6">ap_flight_mode</channel>
      <channel n="7">ap_master_switch</channel>
    </pilot_input>
  </pilot_inputs>

</PropertyList>

